
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://tarmoj.github.io/vclick/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://tarmoj.github.io/vclick/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://tarmoj.github.io/vclick/theme/font-awesome/css/font-awesome.min.css">


    <link href="https://tarmoj.github.io/vclick/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="vClick Atom">





    <meta name="author" content="Tarmo Johannes" />
    <meta name="description" content="" />
<meta property="og:site_name" content="vClick"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="vClick"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://tarmoj.github.io/vclick"/>

  <title>vClick &ndash; How it works</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://tarmoj.github.io/vclick">
        <img src="https://tarmoj.github.io/vclick/theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href="https://tarmoj.github.io/vclick"></a></h1>


      <nav>
        <ul class="list">
          <li><a href="https://tarmoj.github.io/vclick/pages/about.html#about">About</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/contact.html#contact">Contact</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/contribute.html#contribute">Contribute</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/download.html#download">Download</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/getting-started.html#getting-started">Getting started</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/how-it-works.html#how-it-works">How it works</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/score-files.html#score-files">Score files</a></li>
          <li><a href="https://tarmoj.github.io/vclick/pages/score-library.html#score-library">Score Library</a></li>

        </ul>
      </nav>

      <ul class="social">
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
    
    <h1 id="how-it-works">How it works</h1>
  </header>
  <div>
<p>This is a bit more techical stuff but probably interesting to many people, who undertand the terms like OSC messages, websockets etc - it may help you to use the system in your own setup, write custom clients (like using Processing, Max MSP or any other OSC aware software). Feel free to be creative and use eClick as you need!</p>
<h3>The Client</h3>
<p>The client is listening by default to <strong>incoming OSC messages on port 57878</strong>. (It was 87878 for version 1.* but the port can be set from the Client's menu.</p>
<p>The messages' format is:</p>
<table>
<thead>
<tr>
<th>Path</th>
<th>Types</th>
<th>Data</th>
</tr>
</thead>
<tbody>
<tr>
<td>/metronome/beatbar</td>
<td>ii</td>
<td>&lt; bar&gt; &lt; beat&gt;</td>
</tr>
<tr>
<td>/metronome/led</td>
<td>if</td>
<td>&lt; led*&gt; &lt; duration&gt;</td>
</tr>
<tr>
<td>/metronome/tempo</td>
<td>f</td>
<td>&lt; tempo&gt;</td>
</tr>
<tr>
<td>/metronome/notification</td>
<td>s</td>
<td>&lt; message&gt;**</td>
</tr>
<tr>
<td>/metronome/notification</td>
<td>sf</td>
<td>&lt; message&gt; &lt; duration&gt;</td>
</tr>
</tbody>
</table>
<p>The types stand for: i - integer, f- floating point number, s - string.</p>
<p>* Led numbers: 0 - red, 1 -  green, 2 - blue<br>
** If no duration given, 4 seconds is taken as default.</p>
<p>For example (using oscsend on Linux), send following messages to client with IP address 192.168.1.151:</p>
<div class="highlight"><pre><span></span><code><span class="nv">oscsend</span><span class="w"> </span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">151</span><span class="w"> </span><span class="mi">57878</span><span class="w"> </span><span class="o">/</span><span class="nv">metronome</span><span class="o">/</span><span class="nv">led</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">5</span>

<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="nv">blink</span><span class="w"> </span><span class="nv">red</span><span class="w"> </span><span class="nv">led</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">5</span><span class="w"> </span><span class="nv">seconds</span>

<span class="nv">oscsend</span><span class="w"> </span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">151</span><span class="w"> </span><span class="mi">57878</span><span class="w"> </span><span class="o">/</span><span class="nv">metronome</span><span class="o">/</span><span class="nv">beatbar</span><span class="w"> </span><span class="nv">ii</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">4</span>

<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">beat</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">4</span>

<span class="nv">oscsend</span><span class="w"> </span><span class="mi">192</span>.<span class="mi">168</span>.<span class="mi">1</span>.<span class="mi">151</span><span class="w"> </span><span class="mi">57878</span><span class="w"> </span><span class="o">/</span><span class="nv">metronome</span><span class="o">/</span><span class="nv">notification</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="s2">&quot;Are you there?&quot;</span>

<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="k">Send</span><span class="w"> </span><span class="nv">message</span>,<span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">displayed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nv">seconds</span>.
</code></pre></div>

<h3>The Server</h3>
<p>The <strong>vclick Server</strong> is running a websocket server on port 6006. It is used mostly for registering clients (clients send a "hello" websocket message when "Hello, Server" button is pressed), but it can be used also in two other ways:</p>
<p>It can send out websocket messages about beats, leds etc, when "Send ws" is ticked on the Server window. This way the client can be aslo be web based. In fact I developed the system at first this way - the users don't need a special app but just open one page in their browser. It works but is less stable. These files are not part of the git-project, if you are interested to have a look or try it out, please send me an e-mail.</p>
<p>Also vClick server can be driven via websockest messages - you can start/stop the playback, send in messages about beats, led blinks, tempo changes etc and the server will send according OSC messages to all registered clients.  This way you can develop your own programs, scripts or web applications that can work together with vClick system according to your better needs.</p>
<p>The messages expected are strings in following format:</p>
<div class="highlight"><pre><span></span><code><span class="s">&quot;start&quot;</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="k">as</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="s">&quot;Start&quot;</span><span class="w"> </span><span class="nx">had</span><span class="w"> </span><span class="nx">been</span><span class="w"> </span><span class="nx">pressed</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">Server</span><span class="p">.</span><span class="w"> </span><span class="nx">Starting</span><span class="w"> </span><span class="nx">from</span><span class="w"> </span><span class="nx">given</span><span class="w"> </span><span class="nx">bar</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="nx">implemented</span><span class="w"> </span><span class="nx">yet</span><span class="p">.</span>
<span class="s">&quot;stop&quot;</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="k">as</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="s">&quot;Stop&quot;</span><span class="w"> </span><span class="nx">had</span><span class="w"> </span><span class="nx">been</span><span class="w"> </span><span class="nx">pressed</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">Server</span>
<span class="s">&quot;bar &lt;number&gt;&quot;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">set</span><span class="w"> </span><span class="nx">bar</span><span class="w"> </span><span class="nx">number</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="s">&quot;number&quot;</span>
<span class="s">&quot;beat &lt;number&gt;&quot;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">set</span><span class="w"> </span><span class="nx">beat</span><span class="w"> </span><span class="nx">number</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="s">&quot;number&quot;</span>
<span class="s">&quot;duration &lt;duration&gt;&quot;</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="nx">set</span><span class="w"> </span><span class="nx">duration</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">either</span><span class="w"> </span><span class="nx">led</span><span class="w"> </span><span class="nx">blink</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nx">notification</span>
<span class="s">&quot;led &lt; number&gt; &lt;duration&gt;&quot;</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">blink</span><span class="w"> </span><span class="nx">led</span><span class="w"> </span><span class="nx">number</span><span class="w"> </span><span class="mi">0</span><span class="o">-</span><span class="nx">red</span><span class="o">|</span><span class="mi">1</span><span class="o">-</span><span class="nx">green</span><span class="o">|</span><span class="mi">2</span><span class="o">-</span><span class="nx">blue</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nx">duration</span><span class="p">&gt;</span><span class="w"> </span><span class="nx">seconds</span>
<span class="s">&quot;tempo &lt;tempo&gt;&quot;</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="nx">set</span><span class="w"> </span><span class="nx">tempo</span>
<span class="s">&quot;notification &lt;text&gt;&quot;</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="nx">send</span><span class="w"> </span><span class="nx">notification</span><span class="p">,</span><span class="w"> </span><span class="nx">shown</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">durtaion</span><span class="p">&gt;</span><span class="w">  </span><span class="nx">seconds</span><span class="p">.</span>
</code></pre></div>

<p>The info can be combined also into one string:</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;bar 10 beat 4 led 1 druation 0.25&quot;</span>
<span class="w">    </span><span class="o">-</span><span class="nv">set</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">10</span>,<span class="w"> </span><span class="nv">beat</span><span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="nv">blink</span><span class="w"> </span><span class="nv">green</span><span class="w"> </span><span class="nv">led</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">25</span><span class="w"> </span><span class="nv">seconds</span>
</code></pre></div>

<p><br></p>
<p>The source code is available at <a href="https://github.com/tarmoj/vclick">https://github.com/tarmoj/vclick</a>. Feel free to study it, improve or develop further or use in any other context! (obeying to GNU GPL license included in the sources).</p>  </div>
</article>

    <footer>
<p>&copy;  </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " vClick ",
  "url" : "https://tarmoj.github.io/vclick",
  "image": "",
  "description": ""
}
</script>

</body>
</html>